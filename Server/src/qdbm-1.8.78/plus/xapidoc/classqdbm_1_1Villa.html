<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>QDBM for C++: qdbm::Villa Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceqdbm.html">qdbm</a>::<a class="el" href="classqdbm_1_1Villa.html">Villa</a>
  </div>
</div>
<div class="contents">
<h1>qdbm::Villa Class Reference</h1><!-- doxytag: class="qdbm::Villa" --><!-- doxytag: inherits="qdbm::ADBM" -->
<p>C++ API of <a class="el" href="classqdbm_1_1Villa.html" title="C++ API of Villa, the basic API of QDBM.">Villa</a>, the basic API of QDBM.  
<a href="#_details">More...</a></p>
<div class="dynheader">
Inheritance diagram for qdbm::Villa:</div>
<div class="dynsection">
 <div class="center">
  <img src="classqdbm_1_1Villa.png" usemap="#qdbm::Villa_map" alt=""/>
  <map id="qdbm::Villa_map" name="qdbm::Villa_map">
<area href="classqdbm_1_1ADBM.html" alt="qdbm::ADBM" shape="rect" coords="0,0,84,24"/>
</map>
 </div>
</div>

<p><a href="classqdbm_1_1Villa-members.html">List of all members.</a></p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ab7e48f936c1744a53366605a2ae1d8d8">Villa</a> (const char *name, int omode=<a class="el" href="classqdbm_1_1Villa.html#ae1e12d53353fb1a34fd3a7249f213740">Villa::OREADER</a>, VLCFUNC cmp=Villa::cmplex)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the database handle.  <a href="#ab7e48f936c1744a53366605a2ae1d8d8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a4fa7997ebdcc0c6d04ea460e6da3a9b5">~Villa</a> ()  throw ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Release the resources.  <a href="#a4fa7997ebdcc0c6d04ea460e6da3a9b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a9a8998bd4e2278cd6a4175ba20216de0">close</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Close the database handle.  <a href="#a9a8998bd4e2278cd6a4175ba20216de0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a52f993a6a042bf8f11417a00b791144a">put</a> (const char *kbuf, int ksiz, const char *vbuf, int vsiz, int dmode=<a class="el" href="classqdbm_1_1Villa.html#a3d2ebe4de4c5b61ccec9d2f7443a9422">Villa::DOVER</a>)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store a record.  <a href="#a52f993a6a042bf8f11417a00b791144a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#af9404d9fe087e8c0b03b9310e03d5f2b">out</a> (const char *kbuf, int ksiz)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a record.  <a href="#af9404d9fe087e8c0b03b9310e03d5f2b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a445a5ec9a639c75e304772399c7e3e28">get</a> (const char *kbuf, int ksiz, int *sp=0)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieve a record.  <a href="#a445a5ec9a639c75e304772399c7e3e28"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#abd5f53413efe1ae3f9ac13887eb1f27e">vsiz</a> (const char *kbuf, int ksiz)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the size of the value of a record.  <a href="#abd5f53413efe1ae3f9ac13887eb1f27e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#af1869eec7f0855721b375ddb10689c49">vnum</a> (const char *kbuf, int ksiz)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of records corresponding a key.  <a href="#af1869eec7f0855721b375ddb10689c49"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a024d727d09de7a4e457b7a79ed04d915">curfirst</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the cursor to the first record.  <a href="#a024d727d09de7a4e457b7a79ed04d915"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#afca8bc31b980645480f5dbce5f74c3ed">curlast</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the cursor to the last record.  <a href="#afca8bc31b980645480f5dbce5f74c3ed"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a17c9ed17ffea0dfcaa59ab7a7e2257b5">curprev</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the cursor to the previous record.  <a href="#a17c9ed17ffea0dfcaa59ab7a7e2257b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ac859238ca73660a0e8458234996fecd7">curnext</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the cursor to the next record.  <a href="#ac859238ca73660a0e8458234996fecd7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#aedca9b4c7e0ca4e482d4bd7d8b6f1ab9">curjump</a> (const char *kbuf, int ksiz, int jmode=<a class="el" href="classqdbm_1_1Villa.html#a70bec277a0394ba241d568d54d058a42">Villa::JFORWARD</a>)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Move the cursor to a position around a record.  <a href="#aedca9b4c7e0ca4e482d4bd7d8b6f1ab9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a31266ce48e19672262f1e5b45f4257b5">curkey</a> (int *sp=0)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the key of the record where the cursor is.  <a href="#a31266ce48e19672262f1e5b45f4257b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a7315b12c26280eb4f601b4179eb68f36">curval</a> (int *sp=0)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the value of the record where the cursor is.  <a href="#a7315b12c26280eb4f601b4179eb68f36"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a0cc98407cf9b1c2710e254cf02f57f6f">curput</a> (const char *vbuf, int vsiz, int cpmode=<a class="el" href="classqdbm_1_1Villa.html#a621759a7db91f6740bc97563c3877f48">Villa::CPCURRENT</a>)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Insert a record around the cursor.  <a href="#a0cc98407cf9b1c2710e254cf02f57f6f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a269a4d1d31fa27fb96fcfc9d975279a8">curout</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete the record where the cursor is.  <a href="#a269a4d1d31fa27fb96fcfc9d975279a8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a0134319c8837b3975f669a1b205aa59c">settuning</a> (int lrecmax, int nidxmax, int lcnum, int ncnum)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the tuning parameters for performance.  <a href="#a0134319c8837b3975f669a1b205aa59c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#aadf475dedb9a114ef7471c1a8394c629">sync</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Synchronize updating contents with the file and the device.  <a href="#aadf475dedb9a114ef7471c1a8394c629"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a178364b4ab1e9c6a444c110995db5206">optimize</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Optimize a database.  <a href="#a178364b4ab1e9c6a444c110995db5206"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a8edea5deb079856384bf74902bc36509">name</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the name of the database.  <a href="#a8edea5deb079856384bf74902bc36509"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#af311742793824a0bb22f1299db54a563">fsiz</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the size of the database file.  <a href="#af311742793824a0bb22f1299db54a563"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a2206bdc2c9fed4083dcaac44045877db">lnum</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of the leaf nodes of B+ tree.  <a href="#a2206bdc2c9fed4083dcaac44045877db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a5f82fe416f3107dd6a80ccb26c87a7fd">nnum</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of the non-leaf nodes of B+ tree.  <a href="#a5f82fe416f3107dd6a80ccb26c87a7fd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a4b5b5ce2cf4bb6eb4e175a4c9844e745">rnum</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the number of the records stored in a database.  <a href="#a4b5b5ce2cf4bb6eb4e175a4c9844e745"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a9f1a2cf8d141a4a889a53b88de8f45a0">writable</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether the database handle is a writer or not.  <a href="#a9f1a2cf8d141a4a889a53b88de8f45a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a21670d562a7add1a851dea429c7f9cdb">fatalerror</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether the database has a fatal error or not.  <a href="#a21670d562a7add1a851dea429c7f9cdb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a2f6e1cf8fad4a305d14ea33a6c9454db">inode</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the inode number of the database file.  <a href="#a2f6e1cf8fad4a305d14ea33a6c9454db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual time_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#acc20d567d72b4a2c0984e7f420a6312c">mtime</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the last modified time of the database.  <a href="#acc20d567d72b4a2c0984e7f420a6312c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a559b21eea9caeceedd57cd822db9f409">tranbegin</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Begin the transaction.  <a href="#a559b21eea9caeceedd57cd822db9f409"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a6fb5f2a5eb77cdb317b8d416c833ba2c">trancommit</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Commit the transaction.  <a href="#a6fb5f2a5eb77cdb317b8d416c833ba2c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ad089cf6b1268b10a001872d464f87647">tranabort</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Abort the transaction.  <a href="#ad089cf6b1268b10a001872d464f87647"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a54ce0c14d1404f6e94eb1014eaa39983">storerec</a> (const <a class="el" href="classqdbm_1_1Datum.html">Datum</a> &amp;key, const <a class="el" href="classqdbm_1_1Datum.html">Datum</a> &amp;val, bool replace=true)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Store a record.  <a href="#a54ce0c14d1404f6e94eb1014eaa39983"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a882fa32b1717020f71887dc3755974f4">deleterec</a> (const <a class="el" href="classqdbm_1_1Datum.html">Datum</a> &amp;key)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a record.  <a href="#a882fa32b1717020f71887dc3755974f4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classqdbm_1_1Datum.html">Datum</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a802ec4bded4a2c7c82f92135dc06eaee">fetchrec</a> (const <a class="el" href="classqdbm_1_1Datum.html">Datum</a> &amp;key)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Fetch a record.  <a href="#a802ec4bded4a2c7c82f92135dc06eaee"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classqdbm_1_1Datum.html">Datum</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a0ae0c58823d32ce6b4d14b1ab13730dc">firstkey</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the first key.  <a href="#a0ae0c58823d32ce6b4d14b1ab13730dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classqdbm_1_1Datum.html">Datum</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a3af1120e3735b90c6d81954a8b96b42e">nextkey</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the next key.  <a href="#a3af1120e3735b90c6d81954a8b96b42e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ad47f50bc42329b5eba5ecd48ff0b7466">error</a> ()  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Check whether a fatal error occured or not.  <a href="#ad47f50bc42329b5eba5ecd48ff0b7466"></a><br/></td></tr>
<tr><td colspan="2"><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const char *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a566d8f0cf8822abda23dc1cafacf5d47">version</a> ()  throw ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the version information.  <a href="#a566d8f0cf8822abda23dc1cafacf5d47"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a120a58b55367be76ebe035389cade573">remove</a> (const char *name)  throw (Villa_error)</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Remove a database directory.  <a href="#a120a58b55367be76ebe035389cade573"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#aeceaec757f8a746b20afb2afc9e674da">cmplex</a> (const char *aptr, int asiz, const char *bptr, int bsiz)  throw ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare keys of two records by lexical order.  <a href="#aeceaec757f8a746b20afb2afc9e674da"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#aa172ab746ca43de1982424feddc40e12">cmpint</a> (const char *aptr, int asiz, const char *bptr, int bsiz)  throw ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare keys of two records as integers.  <a href="#aa172ab746ca43de1982424feddc40e12"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#af699f81d15adb5c190f53a588e020011">cmpnum</a> (const char *aptr, int asiz, const char *bptr, int bsiz)  throw ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare keys of two records as numbers of big endian.  <a href="#af699f81d15adb5c190f53a588e020011"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a4c53a6b1510e44311c582bfdaebc7ae7">cmpdec</a> (const char *aptr, int asiz, const char *bptr, int bsiz)  throw ()</td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Compare keys of two records as decimal strings.  <a href="#a4c53a6b1510e44311c582bfdaebc7ae7"></a><br/></td></tr>
<tr><td colspan="2"><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab3077fee760423e09579216b650bfbf5"></a><!-- doxytag: member="qdbm::Villa::silent" ref="ab3077fee760423e09579216b650bfbf5" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ab3077fee760423e09579216b650bfbf5">silent</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">whether to repress frequent exceptions <br/></td></tr>
<tr><td colspan="2"><h2>Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae54a24ce3dfdf9975e6e17dc06c655e7"></a><!-- doxytag: member="qdbm::Villa::ENOERR" ref="ae54a24ce3dfdf9975e6e17dc06c655e7" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ae54a24ce3dfdf9975e6e17dc06c655e7">ENOERR</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: no error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a666377be608844b1f4991310924b3288"></a><!-- doxytag: member="qdbm::Villa::EFATAL" ref="a666377be608844b1f4991310924b3288" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a666377be608844b1f4991310924b3288">EFATAL</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: with fatal error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a843560d42ccf2262167d3c2be61fab4a"></a><!-- doxytag: member="qdbm::Villa::EMODE" ref="a843560d42ccf2262167d3c2be61fab4a" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a843560d42ccf2262167d3c2be61fab4a">EMODE</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: invalid mode <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9dd93cd3933fe8b514c1b74deea53e1b"></a><!-- doxytag: member="qdbm::Villa::EBROKEN" ref="a9dd93cd3933fe8b514c1b74deea53e1b" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a9dd93cd3933fe8b514c1b74deea53e1b">EBROKEN</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: broken database file <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9f5761554137a05d99751a520e7c47cc"></a><!-- doxytag: member="qdbm::Villa::EKEEP" ref="a9f5761554137a05d99751a520e7c47cc" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a9f5761554137a05d99751a520e7c47cc">EKEEP</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: existing record <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9711d1b0afaab12a5024d9c251dec313"></a><!-- doxytag: member="qdbm::Villa::ENOITEM" ref="a9711d1b0afaab12a5024d9c251dec313" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a9711d1b0afaab12a5024d9c251dec313">ENOITEM</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: no item found <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aeaff89b30b67cc6ec6133c273e0dbc15"></a><!-- doxytag: member="qdbm::Villa::EALLOC" ref="aeaff89b30b67cc6ec6133c273e0dbc15" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#aeaff89b30b67cc6ec6133c273e0dbc15">EALLOC</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: memory allocation error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac05d0ef39f45a8b25ea5df2609dbbd30"></a><!-- doxytag: member="qdbm::Villa::EMAP" ref="ac05d0ef39f45a8b25ea5df2609dbbd30" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ac05d0ef39f45a8b25ea5df2609dbbd30">EMAP</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: memory mapping error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a79c2b9648d42d52159fbf3cde23a52bf"></a><!-- doxytag: member="qdbm::Villa::EOPEN" ref="a79c2b9648d42d52159fbf3cde23a52bf" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a79c2b9648d42d52159fbf3cde23a52bf">EOPEN</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: open error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5dd2522c9200d295757d27c455a92d51"></a><!-- doxytag: member="qdbm::Villa::ECLOSE" ref="a5dd2522c9200d295757d27c455a92d51" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a5dd2522c9200d295757d27c455a92d51">ECLOSE</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: close error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a568bcc7fdb735f4120a6f25e91eb0f06"></a><!-- doxytag: member="qdbm::Villa::ETRUNC" ref="a568bcc7fdb735f4120a6f25e91eb0f06" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a568bcc7fdb735f4120a6f25e91eb0f06">ETRUNC</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: trunc error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff1a8cf7294eb57da6318ed46438b82b"></a><!-- doxytag: member="qdbm::Villa::ESYNC" ref="aff1a8cf7294eb57da6318ed46438b82b" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#aff1a8cf7294eb57da6318ed46438b82b">ESYNC</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: sync error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd60de39872f561cb9362ccb7fdfa2c2"></a><!-- doxytag: member="qdbm::Villa::ESTAT" ref="afd60de39872f561cb9362ccb7fdfa2c2" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#afd60de39872f561cb9362ccb7fdfa2c2">ESTAT</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: stat error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a75af509a105651e8b8cc9ed5a2a7a66f"></a><!-- doxytag: member="qdbm::Villa::ESEEK" ref="a75af509a105651e8b8cc9ed5a2a7a66f" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a75af509a105651e8b8cc9ed5a2a7a66f">ESEEK</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: seek error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9b3923f45b1b762cd2911ccd719669c3"></a><!-- doxytag: member="qdbm::Villa::EREAD" ref="a9b3923f45b1b762cd2911ccd719669c3" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a9b3923f45b1b762cd2911ccd719669c3">EREAD</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: read error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a90c1b4a4ba05bc2f71c31e0621653aa5"></a><!-- doxytag: member="qdbm::Villa::EWRITE" ref="a90c1b4a4ba05bc2f71c31e0621653aa5" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a90c1b4a4ba05bc2f71c31e0621653aa5">EWRITE</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: write error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7ab4cbe5f48a7ad346c5d00925a15d78"></a><!-- doxytag: member="qdbm::Villa::ELOCK" ref="a7ab4cbe5f48a7ad346c5d00925a15d78" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a7ab4cbe5f48a7ad346c5d00925a15d78">ELOCK</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: lock error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a06d769a61f4d935412238d7e0c4e3189"></a><!-- doxytag: member="qdbm::Villa::EUNLINK" ref="a06d769a61f4d935412238d7e0c4e3189" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a06d769a61f4d935412238d7e0c4e3189">EUNLINK</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: unlink error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a817cf66b7174cc58dbc5a87f58b39883"></a><!-- doxytag: member="qdbm::Villa::EMKDIR" ref="a817cf66b7174cc58dbc5a87f58b39883" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a817cf66b7174cc58dbc5a87f58b39883">EMKDIR</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: mkdir error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="abf749cc5136be9e7d87016d787764f5d"></a><!-- doxytag: member="qdbm::Villa::ERMDIR" ref="abf749cc5136be9e7d87016d787764f5d" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#abf749cc5136be9e7d87016d787764f5d">ERMDIR</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: rmdir error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8b31318af3c021ba2b7f8c91c728da54"></a><!-- doxytag: member="qdbm::Villa::EMISC" ref="a8b31318af3c021ba2b7f8c91c728da54" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a8b31318af3c021ba2b7f8c91c728da54">EMISC</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">error code: miscellaneous error <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae1e12d53353fb1a34fd3a7249f213740"></a><!-- doxytag: member="qdbm::Villa::OREADER" ref="ae1e12d53353fb1a34fd3a7249f213740" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ae1e12d53353fb1a34fd3a7249f213740">OREADER</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open mode: open as a reader <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac049dcfadef588158e05578debfeccd8"></a><!-- doxytag: member="qdbm::Villa::OWRITER" ref="ac049dcfadef588158e05578debfeccd8" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ac049dcfadef588158e05578debfeccd8">OWRITER</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open mode: open as a writer <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac1a3f1fc2773ba3e9ebb6147a40b10bb"></a><!-- doxytag: member="qdbm::Villa::OCREAT" ref="ac1a3f1fc2773ba3e9ebb6147a40b10bb" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ac1a3f1fc2773ba3e9ebb6147a40b10bb">OCREAT</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open mode: writer creating <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7d7d67100bd4c269480f24a2fe1d1d1e"></a><!-- doxytag: member="qdbm::Villa::OTRUNC" ref="a7d7d67100bd4c269480f24a2fe1d1d1e" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a7d7d67100bd4c269480f24a2fe1d1d1e">OTRUNC</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open mode: writer truncating <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa8d5c4927c17d6537ac1744e17776faa"></a><!-- doxytag: member="qdbm::Villa::ONOLCK" ref="aa8d5c4927c17d6537ac1744e17776faa" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#aa8d5c4927c17d6537ac1744e17776faa">ONOLCK</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open mode: open without locking <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c0d4de0d965815ff36f77e1b3306eb8"></a><!-- doxytag: member="qdbm::Villa::OLCKNB" ref="a7c0d4de0d965815ff36f77e1b3306eb8" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a7c0d4de0d965815ff36f77e1b3306eb8">OLCKNB</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open mode: lock without blocking <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac92922cc15115496c276ba0b7803b66b"></a><!-- doxytag: member="qdbm::Villa::OZCOMP" ref="ac92922cc15115496c276ba0b7803b66b" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ac92922cc15115496c276ba0b7803b66b">OZCOMP</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open mode: compress leaves with ZLIB <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a916bd1b54bff8bebf59ace064ce5a396"></a><!-- doxytag: member="qdbm::Villa::OYCOMP" ref="a916bd1b54bff8bebf59ace064ce5a396" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a916bd1b54bff8bebf59ace064ce5a396">OYCOMP</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open mode: compress leaves with LZO <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70ccd78e2106474db5a408016e322d9b"></a><!-- doxytag: member="qdbm::Villa::OXCOMP" ref="a70ccd78e2106474db5a408016e322d9b" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a70ccd78e2106474db5a408016e322d9b">OXCOMP</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">open mode: compress leaves with BZIP2 <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d2ebe4de4c5b61ccec9d2f7443a9422"></a><!-- doxytag: member="qdbm::Villa::DOVER" ref="a3d2ebe4de4c5b61ccec9d2f7443a9422" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a3d2ebe4de4c5b61ccec9d2f7443a9422">DOVER</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write mode: overwrite the existing value <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa39cd2615dbbeeb50998588b5f9d383c"></a><!-- doxytag: member="qdbm::Villa::DKEEP" ref="aa39cd2615dbbeeb50998588b5f9d383c" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#aa39cd2615dbbeeb50998588b5f9d383c">DKEEP</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write mode: keep the existing value <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a04ce8905ff2d3e1f5645b78a8846362b"></a><!-- doxytag: member="qdbm::Villa::DCAT" ref="a04ce8905ff2d3e1f5645b78a8846362b" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a04ce8905ff2d3e1f5645b78a8846362b">DCAT</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write mode: concatenate values <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a43c7d4b27cf33e52c6e3c098de9dfe84"></a><!-- doxytag: member="qdbm::Villa::DDUP" ref="a43c7d4b27cf33e52c6e3c098de9dfe84" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a43c7d4b27cf33e52c6e3c098de9dfe84">DDUP</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write mode: allow duplication of keys <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a537fdcb15d728bb74bb1b937c06aef8b"></a><!-- doxytag: member="qdbm::Villa::DDUPR" ref="a537fdcb15d728bb74bb1b937c06aef8b" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a537fdcb15d728bb74bb1b937c06aef8b">DDUPR</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">write mode: allow duplication with reverse order <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a70bec277a0394ba241d568d54d058a42"></a><!-- doxytag: member="qdbm::Villa::JFORWARD" ref="a70bec277a0394ba241d568d54d058a42" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a70bec277a0394ba241d568d54d058a42">JFORWARD</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">jump mode: step forward <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a089c0af671db80cb5c910094f94a753e"></a><!-- doxytag: member="qdbm::Villa::JBACKWARD" ref="a089c0af671db80cb5c910094f94a753e" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a089c0af671db80cb5c910094f94a753e">JBACKWARD</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">jump mode: step backward <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a621759a7db91f6740bc97563c3877f48"></a><!-- doxytag: member="qdbm::Villa::CPCURRENT" ref="a621759a7db91f6740bc97563c3877f48" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a621759a7db91f6740bc97563c3877f48">CPCURRENT</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">insertion mode: overwrite the current record <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad09d697934ae0a4c5aa75655c489b240"></a><!-- doxytag: member="qdbm::Villa::CPBEFORE" ref="ad09d697934ae0a4c5aa75655c489b240" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#ad09d697934ae0a4c5aa75655c489b240">CPBEFORE</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">insertion mode: insert before the current record <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e940ea8450059d2b65f8b12d3bc5e04"></a><!-- doxytag: member="qdbm::Villa::CPAFTER" ref="a1e940ea8450059d2b65f8b12d3bc5e04" args="" -->
static const int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqdbm_1_1Villa.html#a1e940ea8450059d2b65f8b12d3bc5e04">CPAFTER</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">insertion mode: insert after the current record <br/></td></tr>
</table>
<hr/><a name="_details"></a><h2>Detailed Description</h2>
<p>C++ API of <a class="el" href="classqdbm_1_1Villa.html" title="C++ API of Villa, the basic API of QDBM.">Villa</a>, the basic API of QDBM. </p>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab7e48f936c1744a53366605a2ae1d8d8"></a><!-- doxytag: member="qdbm::Villa::Villa" ref="ab7e48f936c1744a53366605a2ae1d8d8" args="(const char *name, int omode=Villa::OREADER, VLCFUNC cmp=Villa::cmplex)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">qdbm::Villa::Villa </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>omode</em> = <code><a class="el" href="classqdbm_1_1Villa.html#ae1e12d53353fb1a34fd3a7249f213740">Villa::OREADER</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VLCFUNC&nbsp;</td>
          <td class="paramname"> <em>cmp</em> = <code>Villa::cmplex</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the database handle. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the name of a database file. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>omode</em>&nbsp;</td><td>the connection mode: `VillaOWRITER' as a writer, `VillaOREADER' as a reader. If the mode is `VillaOWRITER', the following may be added by bitwise or: `VillaOCREAT', which means it creates a new database if not exist, `VillaOTRUNC', which means it creates a new database regardless if one exists, `VillaOZCOMP', which means leaves in the database are compressed with ZLIB, `VillaOYCOMP', which means leaves in the database are compressed with LZO, `VillaOXCOMP', which means leaves in the database are compressed with BZIP2. Both of `VillaOREADER' and `VillaOWRITER' can be added to by bitwise or: `VillaONOLCK', which means it opens a database file without file locking, or `VillaOLCKNB', which means locking is performed without blocking. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cmp</em>&nbsp;</td><td>the comparing function: `Villacmplex' comparing keys in lexical order, `Villacmpint' comparing keys as objects of `int' in native byte order, `Villacmpnum' comparing keys as numbers of big endian, `Villacmpdec' comparing keys as decimal strings. Any function compatible with them can be assigned to the comparing function. The comparing function should be kept same in the life of a database. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>While connecting as a writer, an exclusive lock is invoked to the database file. While connecting as a reader, a shared lock is invoked to the database file. The thread blocks until the lock is achieved. `VillaOZCOMP', `VillaOYCOMP', and `VillaOXCOMP' are available only if QDBM was built each with ZLIB, LZO, and BZIP2 enabled. If `VillaONOLCK' is used, the application is responsible for exclusion control. </dd></dl>

</div>
</div>
<a class="anchor" id="a4fa7997ebdcc0c6d04ea460e6da3a9b5"></a><!-- doxytag: member="qdbm::Villa::~Villa" ref="a4fa7997ebdcc0c6d04ea460e6da3a9b5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual qdbm::Villa::~Villa </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw ()<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Release the resources. </p>
<dl class="note"><dt><b>Note:</b></dt><dd>If the database handle is not closed yet, it is closed. </dd></dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9a8998bd4e2278cd6a4175ba20216de0"></a><!-- doxytag: member="qdbm::Villa::close" ref="a9a8998bd4e2278cd6a4175ba20216de0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void qdbm::Villa::close </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Close the database handle. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Updating a database is assured to be written when the handle is closed. If a writer opens a database but does not close it appropriately, the database will be broken. If the transaction is activated and not committed, it is aborted. </dd></dl>

<p>Implements <a class="el" href="classqdbm_1_1ADBM.html#afe282ce1168c9a437b74e6f90e21db3d">qdbm::ADBM</a>.</p>

</div>
</div>
<a class="anchor" id="a4c53a6b1510e44311c582bfdaebc7ae7"></a><!-- doxytag: member="qdbm::Villa::cmpdec" ref="a4c53a6b1510e44311c582bfdaebc7ae7" args="(const char *aptr, int asiz, const char *bptr, int bsiz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qdbm::Villa::cmpdec </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>aptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>asiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>bptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bsiz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw ()<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compare keys of two records as decimal strings. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aptr</em>&nbsp;</td><td>the pointer to the region of one key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>asiz</em>&nbsp;</td><td>the size of the region of one key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bptr</em>&nbsp;</td><td>the pointer to the region of the other key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bsiz</em>&nbsp;</td><td>the size of the region of the other key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>positive if the former is big, negative if the latter is big, 0 if both are equivalent. </dd></dl>

</div>
</div>
<a class="anchor" id="aa172ab746ca43de1982424feddc40e12"></a><!-- doxytag: member="qdbm::Villa::cmpint" ref="aa172ab746ca43de1982424feddc40e12" args="(const char *aptr, int asiz, const char *bptr, int bsiz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qdbm::Villa::cmpint </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>aptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>asiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>bptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bsiz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw ()<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compare keys of two records as integers. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aptr</em>&nbsp;</td><td>the pointer to the region of one key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>asiz</em>&nbsp;</td><td>the size of the region of one key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bptr</em>&nbsp;</td><td>the pointer to the region of the other key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bsiz</em>&nbsp;</td><td>the size of the region of the other key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>positive if the former is big, negative if the latter is big, 0 if both are equivalent. </dd></dl>

</div>
</div>
<a class="anchor" id="aeceaec757f8a746b20afb2afc9e674da"></a><!-- doxytag: member="qdbm::Villa::cmplex" ref="aeceaec757f8a746b20afb2afc9e674da" args="(const char *aptr, int asiz, const char *bptr, int bsiz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qdbm::Villa::cmplex </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>aptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>asiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>bptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bsiz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw ()<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compare keys of two records by lexical order. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aptr</em>&nbsp;</td><td>the pointer to the region of one key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>asiz</em>&nbsp;</td><td>the size of the region of one key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bptr</em>&nbsp;</td><td>the pointer to the region of the other key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bsiz</em>&nbsp;</td><td>the size of the region of the other key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>positive if the former is big, negative if the latter is big, 0 if both are equivalent. </dd></dl>

</div>
</div>
<a class="anchor" id="af699f81d15adb5c190f53a588e020011"></a><!-- doxytag: member="qdbm::Villa::cmpnum" ref="af699f81d15adb5c190f53a588e020011" args="(const char *aptr, int asiz, const char *bptr, int bsiz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static int qdbm::Villa::cmpnum </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>aptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>asiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>bptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>bsiz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw ()<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compare keys of two records as numbers of big endian. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>aptr</em>&nbsp;</td><td>the pointer to the region of one key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>asiz</em>&nbsp;</td><td>the size of the region of one key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bptr</em>&nbsp;</td><td>the pointer to the region of the other key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bsiz</em>&nbsp;</td><td>the size of the region of the other key. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>positive if the former is big, negative if the latter is big, 0 if both are equivalent. </dd></dl>

</div>
</div>
<a class="anchor" id="a024d727d09de7a4e457b7a79ed04d915"></a><!-- doxytag: member="qdbm::Villa::curfirst" ref="a024d727d09de7a4e457b7a79ed04d915" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::curfirst </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move the cursor to the first record. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>always true. However, if the silent flag is true and no record corresponds, false is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or there is no record in the database. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aedca9b4c7e0ca4e482d4bd7d8b6f1ab9"></a><!-- doxytag: member="qdbm::Villa::curjump" ref="aedca9b4c7e0ca4e482d4bd7d8b6f1ab9" args="(const char *kbuf, int ksiz, int jmode=Villa::JFORWARD)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::curjump </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>kbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ksiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>jmode</em> = <code><a class="el" href="classqdbm_1_1Villa.html#a70bec277a0394ba241d568d54d058a42">Villa::JFORWARD</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move the cursor to a position around a record. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>kbuf</em>&nbsp;</td><td>the pointer to the region of a key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ksiz</em>&nbsp;</td><td>the size of the region of the key. If it is negative, the size is assigned with `stdstrlen(kbuf)'. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>jmode</em>&nbsp;</td><td>detail adjustment: `VillaJFORWARD', which means that the cursor is set to the first record of the same key and that the cursor is set to the next substitute if completely matching record does not exist, `VillaJBACKWARD', which means that the cursor is set to the last record of the same key and that the cursor is set to the previous substitute if completely matching record does not exist. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>always true. However, if the silent flag is true and no record corresponds, false is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or there is no record corresponding the condition. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a31266ce48e19672262f1e5b45f4257b5"></a><!-- doxytag: member="qdbm::Villa::curkey" ref="a31266ce48e19672262f1e5b45f4257b5" args="(int *sp=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual char* qdbm::Villa::curkey </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>sp</em> = <code>0</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the key of the record where the cursor is. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sp</em>&nbsp;</td><td>the pointer to a variable to which the size of the region of the return value is assigned. If it is 0, it is not used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the pointer to the region of the key of the corresponding record. If the silent flag is true and no record corresponds, 0 is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds to the cursor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Because an additional zero code is appended at the end of the region of the return value, the return value can be treated as a character string. Because the region of the return value is allocated with the `stdmalloc' call, it should be released with the `stdfree' call if it is no longer in use. </dd></dl>

</div>
</div>
<a class="anchor" id="afca8bc31b980645480f5dbce5f74c3ed"></a><!-- doxytag: member="qdbm::Villa::curlast" ref="afca8bc31b980645480f5dbce5f74c3ed" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::curlast </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move the cursor to the last record. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>always true. However, if the silent flag is true and no record corresponds, false is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or there is no record in the database. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ac859238ca73660a0e8458234996fecd7"></a><!-- doxytag: member="qdbm::Villa::curnext" ref="ac859238ca73660a0e8458234996fecd7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::curnext </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move the cursor to the next record. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>always true. However, if the silent flag is true and no record corresponds, false is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or there is no next record. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a269a4d1d31fa27fb96fcfc9d975279a8"></a><!-- doxytag: member="qdbm::Villa::curout" ref="a269a4d1d31fa27fb96fcfc9d975279a8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::curout </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete the record where the cursor is. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>always true. However, if the silent flag is true and no record corresponds to the cursor, false is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds to the cursor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>After deletion, the cursor is moved to the next record if possible. </dd></dl>

</div>
</div>
<a class="anchor" id="a17c9ed17ffea0dfcaa59ab7a7e2257b5"></a><!-- doxytag: member="qdbm::Villa::curprev" ref="a17c9ed17ffea0dfcaa59ab7a7e2257b5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::curprev </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Move the cursor to the previous record. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>always true. However, if the silent flag is true and no record corresponds, false is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or there is no previous record. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0cc98407cf9b1c2710e254cf02f57f6f"></a><!-- doxytag: member="qdbm::Villa::curput" ref="a0cc98407cf9b1c2710e254cf02f57f6f" args="(const char *vbuf, int vsiz, int cpmode=Villa::CPCURRENT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::curput </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>vbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>vsiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>cpmode</em> = <code><a class="el" href="classqdbm_1_1Villa.html#a621759a7db91f6740bc97563c3877f48">Villa::CPCURRENT</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Insert a record around the cursor. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>vbuf</em>&nbsp;</td><td>the pointer to the region of a value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vsiz</em>&nbsp;</td><td>the size of the region of the value. If it is negative, the size is assigned with `stdstrlen(vbuf)'. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>cpmode</em>&nbsp;</td><td>detail adjustment: `VillaCPCURRENT', which means that the value of the current record is overwritten, `VillaCPBEFORE', which means that a new record is inserted before the current record, `VillaCPAFTER', which means that a new record is inserted after the current record. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>always true. However, if the silent flag is true and no record corresponds to the cursor, false is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds to the cursor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>After insertion, the cursor is moved to the inserted record. </dd></dl>

</div>
</div>
<a class="anchor" id="a7315b12c26280eb4f601b4179eb68f36"></a><!-- doxytag: member="qdbm::Villa::curval" ref="a7315b12c26280eb4f601b4179eb68f36" args="(int *sp=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual char* qdbm::Villa::curval </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>sp</em> = <code>0</code></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the value of the record where the cursor is. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>sp</em>&nbsp;</td><td>the pointer to a variable to which the size of the region of the return value is assigned. If it is 0, it is not used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the pointer to the region of the value of the corresponding record. If the silent flag is true and no record corresponds, 0 is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds to the cursor. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Because an additional zero code is appended at the end of the region of the return value, the return value can be treated as a character string. Because the region of the return value is allocated with the `stdmalloc' call, it should be released with the `stdfree' call if it is no longer in use. </dd></dl>

</div>
</div>
<a class="anchor" id="a882fa32b1717020f71887dc3755974f4"></a><!-- doxytag: member="qdbm::Villa::deleterec" ref="a882fa32b1717020f71887dc3755974f4" args="(const Datum &amp;key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void qdbm::Villa::deleterec </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classqdbm_1_1Datum.html">Datum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete a record. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>reference to a key object. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classqdbm_1_1ADBM.html#aacf9ce119ffd2f3da213cdffd2428ac6">qdbm::ADBM</a>.</p>

</div>
</div>
<a class="anchor" id="ad47f50bc42329b5eba5ecd48ff0b7466"></a><!-- doxytag: member="qdbm::Villa::error" ref="ad47f50bc42329b5eba5ecd48ff0b7466" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::error </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check whether a fatal error occured or not. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the database has a fatal error, false if not. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classqdbm_1_1ADBM.html#abbd9f01defd662ef69c706b6b5d7bb54">qdbm::ADBM</a>.</p>

</div>
</div>
<a class="anchor" id="a21670d562a7add1a851dea429c7f9cdb"></a><!-- doxytag: member="qdbm::Villa::fatalerror" ref="a21670d562a7add1a851dea429c7f9cdb" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::fatalerror </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check whether the database has a fatal error or not. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the database has a fatal error, false if not. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a802ec4bded4a2c7c82f92135dc06eaee"></a><!-- doxytag: member="qdbm::Villa::fetchrec" ref="a802ec4bded4a2c7c82f92135dc06eaee" args="(const Datum &amp;key)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classqdbm_1_1Datum.html">Datum</a> qdbm::Villa::fetchrec </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classqdbm_1_1Datum.html">Datum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fetch a record. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>reference to a key object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a temporary instance of the value of the corresponding record. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classqdbm_1_1ADBM.html#a2ed1c91281ac685374082639369dc7b1">qdbm::ADBM</a>.</p>

</div>
</div>
<a class="anchor" id="a0ae0c58823d32ce6b4d14b1ab13730dc"></a><!-- doxytag: member="qdbm::Villa::firstkey" ref="a0ae0c58823d32ce6b4d14b1ab13730dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classqdbm_1_1Datum.html">Datum</a> qdbm::Villa::firstkey </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the first key. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>a temporary instance of the key of the first record. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classqdbm_1_1ADBM.html#a457f066a06a8e2c7bdcced9c3a83bc86">qdbm::ADBM</a>.</p>

</div>
</div>
<a class="anchor" id="af311742793824a0bb22f1299db54a563"></a><!-- doxytag: member="qdbm::Villa::fsiz" ref="af311742793824a0bb22f1299db54a563" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int qdbm::Villa::fsiz </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the size of the database file. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the size of the database file. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Because of the I/O buffer, the return value may be less than the real size. </dd></dl>

</div>
</div>
<a class="anchor" id="a445a5ec9a639c75e304772399c7e3e28"></a><!-- doxytag: member="qdbm::Villa::get" ref="a445a5ec9a639c75e304772399c7e3e28" args="(const char *kbuf, int ksiz, int *sp=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual char* qdbm::Villa::get </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>kbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ksiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>sp</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Retrieve a record. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>kbuf</em>&nbsp;</td><td>the pointer to the region of a key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ksiz</em>&nbsp;</td><td>the size of the region of the key. If it is negative, the size is assigned with `stdstrlen(kbuf)'. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>sp</em>&nbsp;</td><td>the pointer to a variable to which the size of the region of the return value is assigned. If it is 0, it is not used. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the pointer to the region of the value of the corresponding record. If the silent flag is true and no record corresponds, 0 is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>When the key of duplicated records is specified, the value of the first record of the same key is selected. Because an additional zero code is appended at the end of the region of the return value, the return value can be treated as a character string. Because the region of the return value is allocated with the `stdmalloc' call, it should be released with the `stdfree' call if it is no longer in use. </dd></dl>

</div>
</div>
<a class="anchor" id="a2f6e1cf8fad4a305d14ea33a6c9454db"></a><!-- doxytag: member="qdbm::Villa::inode" ref="a2f6e1cf8fad4a305d14ea33a6c9454db" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int qdbm::Villa::inode </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the inode number of the database file. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the inode number of the database file. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a2206bdc2c9fed4083dcaac44045877db"></a><!-- doxytag: member="qdbm::Villa::lnum" ref="a2206bdc2c9fed4083dcaac44045877db" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int qdbm::Villa::lnum </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the number of the leaf nodes of B+ tree. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of the leaf nodes. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="acc20d567d72b4a2c0984e7f420a6312c"></a><!-- doxytag: member="qdbm::Villa::mtime" ref="acc20d567d72b4a2c0984e7f420a6312c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual time_t qdbm::Villa::mtime </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the last modified time of the database. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the last modified time the database. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8edea5deb079856384bf74902bc36509"></a><!-- doxytag: member="qdbm::Villa::name" ref="a8edea5deb079856384bf74902bc36509" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual char* qdbm::Villa::name </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the name of the database. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the pointer to the region of the name of the database. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Because the region of the return value is allocated with the `stdmalloc' call, it should be released with the `stdfree' call if it is no longer in use. </dd></dl>

</div>
</div>
<a class="anchor" id="a3af1120e3735b90c6d81954a8b96b42e"></a><!-- doxytag: member="qdbm::Villa::nextkey" ref="a3af1120e3735b90c6d81954a8b96b42e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classqdbm_1_1Datum.html">Datum</a> qdbm::Villa::nextkey </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the next key. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>a temporary instance of the key of the next record. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classqdbm_1_1ADBM.html#ae14701fd3087fe35f6c83802cc217bec">qdbm::ADBM</a>.</p>

</div>
</div>
<a class="anchor" id="a5f82fe416f3107dd6a80ccb26c87a7fd"></a><!-- doxytag: member="qdbm::Villa::nnum" ref="a5f82fe416f3107dd6a80ccb26c87a7fd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int qdbm::Villa::nnum </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the number of the non-leaf nodes of B+ tree. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of the non-leaf nodes. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a178364b4ab1e9c6a444c110995db5206"></a><!-- doxytag: member="qdbm::Villa::optimize" ref="a178364b4ab1e9c6a444c110995db5206" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void qdbm::Villa::optimize </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Optimize a database. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>In an alternating succession of deleting and storing with overwrite or concatenate, dispensable regions accumulate. This function is useful to do away with them. This function shuold not be used while the transaction is activated. </dd></dl>

</div>
</div>
<a class="anchor" id="af9404d9fe087e8c0b03b9310e03d5f2b"></a><!-- doxytag: member="qdbm::Villa::out" ref="af9404d9fe087e8c0b03b9310e03d5f2b" args="(const char *kbuf, int ksiz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::out </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>kbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ksiz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Delete a record. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>kbuf</em>&nbsp;</td><td>the pointer to the region of a key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ksiz</em>&nbsp;</td><td>the size of the region of the key. If it is negative, the size is assigned with `stdstrlen(kbuf)'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>always true. However, if the silent flag is true and no record corresponds, false is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>When the key of duplicated records is specified, the first record of the same key is deleted. The cursor becomes unavailable due to updating database. </dd></dl>

</div>
</div>
<a class="anchor" id="a52f993a6a042bf8f11417a00b791144a"></a><!-- doxytag: member="qdbm::Villa::put" ref="a52f993a6a042bf8f11417a00b791144a" args="(const char *kbuf, int ksiz, const char *vbuf, int vsiz, int dmode=Villa::DOVER)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::put </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>kbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ksiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>vbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>vsiz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>dmode</em> = <code><a class="el" href="classqdbm_1_1Villa.html#a3d2ebe4de4c5b61ccec9d2f7443a9422">Villa::DOVER</a></code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store a record. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>kbuf</em>&nbsp;</td><td>the pointer to the region of a key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ksiz</em>&nbsp;</td><td>the size of the region of the key. If it is negative, the size is assigned with `stdstrlen(kbuf)'. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vbuf</em>&nbsp;</td><td>the pointer to the region of a value. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vsiz</em>&nbsp;</td><td>the size of the region of the value. If it is negative, the size is assigned with `stdstrlen(vbuf)'. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dmode</em>&nbsp;</td><td>behavior when the key overlaps, by the following values: `VillaDOVER', which means the specified value overwrites the existing one, `VillaDKEEP', which means the existing value is kept, `VillaDCAT', which means the specified value is concatenated at the end of the existing value, `VillaDDUP', which means duplication of keys is allowed and the specified value is added as the last one, `VillaDDUPR', which means duplication of keys is allowed and the specified value is added as the first one. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>always true. However, if the silent flag is true and replace is cancelled, false is returned instead of exception. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or replace is cancelled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The cursor becomes unavailable due to updating database. </dd></dl>

</div>
</div>
<a class="anchor" id="a120a58b55367be76ebe035389cade573"></a><!-- doxytag: member="qdbm::Villa::remove" ref="a120a58b55367be76ebe035389cade573" args="(const char *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static void qdbm::Villa::remove </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Remove a database directory. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>the name of a database directory. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4b5b5ce2cf4bb6eb4e175a4c9844e745"></a><!-- doxytag: member="qdbm::Villa::rnum" ref="a4b5b5ce2cf4bb6eb4e175a4c9844e745" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int qdbm::Villa::rnum </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the number of the records stored in a database. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of the records stored in the database. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a0134319c8837b3975f669a1b205aa59c"></a><!-- doxytag: member="qdbm::Villa::settuning" ref="a0134319c8837b3975f669a1b205aa59c" args="(int lrecmax, int nidxmax, int lcnum, int ncnum)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void qdbm::Villa::settuning </td>
          <td>(</td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lrecmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nidxmax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>lcnum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ncnum</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set the tuning parameters for performance. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>lrecmax</em>&nbsp;</td><td>the max number of records in a leaf node of B+ tree. If it is not more than 0, the default value is specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nidxmax</em>&nbsp;</td><td>the max number of indexes in a non-leaf node of B+ tree. If it is not more than 0, the default value is specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>lcnum</em>&nbsp;</td><td>the max number of caching leaf nodes. If it is not more than 0, the default value is specified. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ncnum</em>&nbsp;</td><td>the max number of caching non-leaf nodes. If it is not more than 0, the default value is specified. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>The default setting is equivalent to `settuning(49, 192, 1024, 512)'. Because tuning paremeters are not saved in a database, you should specify them every opening a database. </dd></dl>

</div>
</div>
<a class="anchor" id="a54ce0c14d1404f6e94eb1014eaa39983"></a><!-- doxytag: member="qdbm::Villa::storerec" ref="a54ce0c14d1404f6e94eb1014eaa39983" args="(const Datum &amp;key, const Datum &amp;val, bool replace=true)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void qdbm::Villa::storerec </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classqdbm_1_1Datum.html">Datum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classqdbm_1_1Datum.html">Datum</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>replace</em> = <code>true</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store a record. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key</em>&nbsp;</td><td>reference to a key object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>reference to a value object. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>replace</em>&nbsp;</td><td>whether the existing value is to be overwritten or not. </td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or replace is cancelled. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classqdbm_1_1ADBM.html#aeb819b3cf03cf0aa2924665c73b04481">qdbm::ADBM</a>.</p>

</div>
</div>
<a class="anchor" id="aadf475dedb9a114ef7471c1a8394c629"></a><!-- doxytag: member="qdbm::Villa::sync" ref="aadf475dedb9a114ef7471c1a8394c629" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void qdbm::Villa::sync </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Synchronize updating contents with the file and the device. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>This function is useful when another process uses the connected database file. This function shuold not be used while the transaction is activated. </dd></dl>

</div>
</div>
<a class="anchor" id="ad089cf6b1268b10a001872d464f87647"></a><!-- doxytag: member="qdbm::Villa::tranabort" ref="ad089cf6b1268b10a001872d464f87647" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void qdbm::Villa::tranabort </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Abort the transaction. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Updating a database in the transaction is discarded when it is aborted. The state of the database is rollbacked to before transaction. Any other thread except for the one which began the transaction should not call this function. </dd></dl>

</div>
</div>
<a class="anchor" id="a559b21eea9caeceedd57cd822db9f409"></a><!-- doxytag: member="qdbm::Villa::tranbegin" ref="a559b21eea9caeceedd57cd822db9f409" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void qdbm::Villa::tranbegin </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Begin the transaction. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>If a thread is already in the transaction, the other threads block until the prius is out of the transaction. Only one transaction can be activated with a database handle at the same time. </dd></dl>

</div>
</div>
<a class="anchor" id="a6fb5f2a5eb77cdb317b8d416c833ba2c"></a><!-- doxytag: member="qdbm::Villa::trancommit" ref="a6fb5f2a5eb77cdb317b8d416c833ba2c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual void qdbm::Villa::trancommit </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Commit the transaction. </p>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>
<dl class="note"><dt><b>Note:</b></dt><dd>Updating a database in the transaction is fixed when it is committed successfully. Any other thread except for the one which began the transaction should not call this function. </dd></dl>

</div>
</div>
<a class="anchor" id="a566d8f0cf8822abda23dc1cafacf5d47"></a><!-- doxytag: member="qdbm::Villa::version" ref="a566d8f0cf8822abda23dc1cafacf5d47" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">static const char* qdbm::Villa::version </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw ()<code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the version information. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>the string of the version information. </dd></dl>

</div>
</div>
<a class="anchor" id="af1869eec7f0855721b375ddb10689c49"></a><!-- doxytag: member="qdbm::Villa::vnum" ref="af1869eec7f0855721b375ddb10689c49" args="(const char *kbuf, int ksiz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int qdbm::Villa::vnum </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>kbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ksiz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the number of records corresponding a key. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>kbuf</em>&nbsp;</td><td>the pointer to the region of a key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ksiz</em>&nbsp;</td><td>the size of the region of the key. If it is negative, the size is assigned with `stdstrlen(kbuf)'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the number of corresponding records. If no record corresponds, 0 is returned. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abd5f53413efe1ae3f9ac13887eb1f27e"></a><!-- doxytag: member="qdbm::Villa::vsiz" ref="abd5f53413efe1ae3f9ac13887eb1f27e" args="(const char *kbuf, int ksiz)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int qdbm::Villa::vsiz </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>kbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>ksiz</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get the size of the value of a record. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>kbuf</em>&nbsp;</td><td>the pointer to the region of a key. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ksiz</em>&nbsp;</td><td>the size of the region of the key. If it is negative, the size is assigned with `stdstrlen(kbuf)'. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>the size of the value of the corresponding record. If the silent flag is true and no record corresponds, -1 is returned instead of exception. If multiple records correspond, the size of the first is returned. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs or no record corresponds. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9f1a2cf8d141a4a889a53b88de8f45a0"></a><!-- doxytag: member="qdbm::Villa::writable" ref="a9f1a2cf8d141a4a889a53b88de8f45a0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool qdbm::Villa::writable </td>
          <td>(</td>
          <td class="paramname"></td>
          <td>&nbsp;)&nbsp;</td>
          <td>  throw (<a class="el" href="classqdbm_1_1Villa__error.html">Villa_error</a>)<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check whether the database handle is a writer or not. </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>true if the handle is a writer, false if not. </dd></dl>
<dl><dt><b>Exceptions:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em><a class="el" href="classqdbm_1_1Villa__error.html" title="Error container for Villa.">Villa_error</a></em>&nbsp;</td><td>if an error occurs. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>xvilla.h</li>
</ul>
</div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Aug 5 02:15:30 2010 for QDBM for C++ by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
